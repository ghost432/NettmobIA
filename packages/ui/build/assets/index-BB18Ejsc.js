import{a as Je,f as wt,j as e,Q as Ct,R as Tt,U as kt,V as St,W as Xe,y as Qe,X as vt,o as W,q as ae,S as F,C as re,a0 as Me,_ as Dt,$ as Ue,P as h,u as It,s as Ft,t as At,b as Bt,r as i,c as Re,O as Lt,A as We,d as ze,M as Pt,T as Ve,I as Et,a1 as ce,a2 as de,a3 as z,a4 as te,a5 as pe,a6 as $e,a7 as qe,B as T,g as se,a8 as Ot,i as me,L as Nt,N as Mt}from"./index-B5bgjFPS.js";import{I as k}from"./ItemCard-DNyTDo1v.js";import{W as Ge}from"./workflow_empty-BmvH5JwJ.js";import{T as Ut}from"./ToolDialog-DZ6z_iak.js";import{S as p}from"./Skeleton-DJP3nnUt.js";import{I as Rt}from"./IconShare-D3uBFiqr.js";import{I as Wt}from"./IconTrash-CekgWF9B.js";import{V as zt}from"./ViewHeader-t5dVj9Vk.js";import{E as Vt}from"./ErrorBoundary-x4bZaoHs.js";import{T as _e}from"./TabPanel-C-h4h7GL.js";import{u as $t,C as qt}from"./ConfirmDialog-Dfe34hOz.js";import{S as Gt}from"./ShareWithWorkspaceDialog-C_XUNE5d.js";import{m as xe}from"./ExportAsTemplateDialog-481ESzFy.js";import{T as _t}from"./ToggleButtonGroup-RXBzXyLf.js";import{I as Ht}from"./IconLayoutGrid-Ck6ndNoY.js";import{F as he}from"./FormControl-o0rphY-g.js";import{I as ue}from"./InputLabel-BtU13bbu.js";import{T as Jt}from"./Tabs-T-PfpsDr.js";import{A as Xt}from"./Autocomplete-CinIIKT5.js";import{T as Qt}from"./Tooltip-CXmeiPEa.js";import{T as Yt}from"./TextField-OmGdqrIf.js";import{B as He}from"./Grid-DGDGmzGP.js";import"./TooltipWithParser-D26Faoyy.js";import"./index-D--Rb2MU.js";import"./Delete-4D-T7tnN.js";import"./CodeEditor-BbQJOBPh.js";import"./index-C-cusT-F.js";import"./GridActionsCellItem-B3aQ_RGo.js";import"./IconPlus-j8jP5X4Z.js";import"./StyledFab-DFomU4Vk.js";import"./IconSearch-4bUU90FL.js";import"./IconCopy-bbAsun7S.js";import"./KeyboardArrowRight-BvTOCIXU.js";import"./Close-DT9tpzn1.js";import"./toPropertyKey-C9c9JG92.js";import"./createStyled-DlEbU-rO.js";import"./InputAdornment-v58Edx4J.js";import"./LastPage--XaxDP-k.js";const o=Qe(Dt)(({theme:y})=>({borderColor:y.palette.grey[900]+25,[`&.${Ue.head}`]:{color:y.palette.grey[900]},[`&.${Ue.body}`]:{fontSize:14,height:64}})),ge=Qe(Xe)(()=>({"&:last-child td, &:last-child th":{border:0}})),je=({data:y,filterFunction:V,filterByBadge:c,filterByType:$,filterByFramework:b,filterByUsecases:C,goToCanvas:q,goToTool:G,isLoading:ie,onDelete:O,onShare:_})=>{const N=Je(),oe=wt(l=>l.customization),H=l=>{l.flowData?q(l):G(l)};return e.jsx(e.Fragment,{children:e.jsx(Ct,{sx:{border:1,borderColor:N.palette.grey[900]+25,borderRadius:2},component:Tt,children:e.jsxs(kt,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[e.jsx(St,{sx:{backgroundColor:oe.isDarkMode?N.palette.common.black:N.palette.grey[100],height:56},children:e.jsxs(Xe,{children:[e.jsx(o,{sx:{minWidth:"150px"},component:"th",scope:"row",children:"Name"},"0"),e.jsx(o,{sx:{minWidth:"100px"},component:"th",scope:"row",children:"Type"},"1"),e.jsx(o,{children:"Description"},"2"),e.jsx(o,{sx:{minWidth:"100px"},children:"Framework"},"3"),e.jsx(o,{sx:{minWidth:"100px"},children:"Use cases"},"4"),e.jsx(o,{children:"Badges"},"5"),e.jsx(o,{component:"th",scope:"row"},"6")]})}),e.jsx(vt,{children:ie?e.jsxs(e.Fragment,{children:[e.jsxs(ge,{children:[e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})})]}),e.jsxs(ge,{children:[e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})}),e.jsx(o,{children:e.jsx(p,{variant:"text"})})]})]}):e.jsx(e.Fragment,{children:y==null?void 0:y.filter(c).filter($).filter(V).filter(b).filter(C).map((l,M)=>e.jsxs(ge,{children:[e.jsx(o,{children:e.jsx(W,{sx:{display:"-webkit-box",fontSize:14,fontWeight:500,WebkitLineClamp:2,WebkitBoxOrient:"vertical",textOverflow:"ellipsis",overflow:"hidden"},children:e.jsx(ae,{onClick:()=>H(l),sx:{textAlign:"left"},children:l.templateName||l.name})})},"0"),e.jsx(o,{children:e.jsx(W,{children:l.type})},"1"),e.jsx(o,{children:e.jsx(W,{sx:{overflowWrap:"break-word",whiteSpace:"pre-line"},children:l.description||""})},"2"),e.jsx(o,{children:e.jsx(F,{flexDirection:"row",sx:{gap:1,flexWrap:"wrap"},children:l.framework&&l.framework.length>0&&l.framework.map((u,S)=>e.jsx(re,{variant:"outlined",size:"small",label:u,style:{marginRight:3,marginBottom:3}},S))})},"3"),e.jsx(o,{children:e.jsx(F,{flexDirection:"row",sx:{gap:1,flexWrap:"wrap"},children:l.usecases&&l.usecases.length>0&&l.usecases.map((u,S)=>e.jsx(re,{variant:"outlined",size:"small",label:u,style:{marginRight:3,marginBottom:3}},S))})},"4"),e.jsx(o,{children:e.jsx(W,{children:l.badge&&l.badge.split(";").map((u,S)=>e.jsx(re,{color:u==="POPULAR"?"primary":u==="DEPRECATED"?"warning":"error",size:"small",label:u.toUpperCase(),style:{marginRight:5,marginBottom:5}},S))})},"5"),e.jsx(o,{colSpan:l.shared?2:void 0,children:l.shared?e.jsx(W,{children:"Shared Template"}):e.jsxs(e.Fragment,{children:[_&&e.jsx(Me,{display:"feat:workspaces",permissionId:"templates:custom-share",title:"Share",color:"primary",onClick:()=>_(l),children:e.jsx(Rt,{})}),O&&e.jsx(Me,{permissionId:"templates:custom-delete",title:"Delete",color:"error",onClick:()=>O(l),children:e.jsx(Wt,{})})]})},"6")]},M))})})]})})})};je.propTypes={data:h.array,filterFunction:h.func,filterByBadge:h.func,filterByType:h.func,filterByFramework:h.func,filterByUsecases:h.func,goToTool:h.func,goToCanvas:h.func,isLoading:h.bool,onDelete:h.func,onShare:h.func};const Kt=["POPULAR","NEW"],Zt=["Chatflow","AgentflowV2","Tool"],es=["Langchain","LlamaIndex"],fe={PaperProps:{style:{width:160}}},Rs=()=>{var Ae,Be,Le,Pe,Ee,Oe,Ne;const y=It(),V=Ft();At();const c=Je(),{error:$,setError:b}=Bt(),[C,q]=i.useState(!0),[G,ie]=i.useState({}),[O,_]=i.useState({}),[N,oe]=i.useState([]),[H,l]=i.useState([]),[M,u]=i.useState([]),[S,J]=i.useState(!1),[Ye,ye]=i.useState({}),m=Re(xe.getAllTemplatesFromMarketplaces),[U,Ke]=i.useState(localStorage.getItem("mpDisplayStyle")||"card"),[A,Ze]=i.useState(""),[v,et]=i.useState([]),[D,tt]=i.useState([]),[I,st]=i.useState([]),d=Re(xe.getAllCustomTemplates),[g,be]=i.useState(0),[we,at]=i.useState({}),[Ce,rt]=i.useState({}),[it,ot]=i.useState([]),[Te,ke]=i.useState([]),[B,Se]=i.useState([]),ve=(...t)=>V(Nt(...t)),De=(...t)=>V(Mt(...t)),{confirm:lt}=$t(),{hasPermission:L}=Lt(),[Ie,Fe]=i.useState(!1),[nt,ct]=i.useState({}),dt=t=>{const s={type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Share",data:{id:t.id,name:t.name,title:"Share Custom Template",itemType:"custom_template"}};ct(s),Fe(!0)},le=(t,s)=>({"& .MuiOutlinedInput-notchedOutline":{borderRadius:2,borderColor:t},"& .MuiSvgIcon-root":{color:s?"#fff":"inherit"}}),pt=(t,s)=>{s===1&&!d.data&&d.request(),be(s)},mt=()=>{g===0?u([]):Se([])},xt=t=>{const{target:{value:s}}=t;et(typeof s=="string"?s.split(","):s);const r=g===0?m.data:d.data;ee(r,{typeFilter:D,badgeFilter:typeof s=="string"?s.split(","):s,frameworkFilter:I,search:A})},ht=t=>{const{target:{value:s}}=t;tt(typeof s=="string"?s.split(","):s);const r=g===0?m.data:d.data;ee(r,{typeFilter:typeof s=="string"?s.split(","):s,badgeFilter:v,frameworkFilter:I,search:A})},ut=t=>{const{target:{value:s}}=t;st(typeof s=="string"?s.split(","):s);const r=g===0?m.data:d.data;ee(r,{typeFilter:D,badgeFilter:v,frameworkFilter:typeof s=="string"?s.split(","):s,search:A})},gt=(t,s)=>{s!==null&&(localStorage.setItem("mpDisplayStyle",s),Ke(s))},ft=t=>{Ze(t.target.value);const s=g===0?m.data:d.data;ee(s,{typeFilter:D,badgeFilter:v,frameworkFilter:I,search:t.target.value})},jt=async t=>{const s={title:"Delete",description:`Delete Custom Template ${t.name}?`,confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await lt(s))try{(await xe.deleteCustomTemplate(t.id)).data&&(ve({message:"Custom Template deleted successfully!",options:{key:new Date().getTime()+Math.random(),variant:"success",action:a=>e.jsx(ae,{style:{color:"white"},onClick:()=>De(a),children:e.jsx(me,{})})}}),d.request())}catch(n){ve({message:`Failed to delete custom template: ${typeof n.response.data=="object"?n.response.data.message:n.response.data}`,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:a=>e.jsx(ae,{style:{color:"white"},onClick:()=>De(a),children:e.jsx(me,{})})}})}};function X(t){return(t.categories?t.categories.join(","):"").toLowerCase().indexOf(A.toLowerCase())>-1||t.templateName.toLowerCase().indexOf(A.toLowerCase())>-1||t.description&&t.description.toLowerCase().indexOf(A.toLowerCase())>-1}function Q(t){return v.length>0?v.includes(t.badge):!0}function Y(t){return D.length>0?D.includes(t.type):!0}function K(t){return I.length>0?(t.framework||[]).some(s=>I.includes(s)):!0}function Z(t){return g===0?M.length>0?(t.usecases||[]).some(s=>M.includes(s)):!0:B.length>0?(t.usecases||[]).some(s=>B.includes(s)):!0}const ee=(t,s)=>{if(!t)return;let r=t;s.badgeFilter.length>0&&(r=r.filter(a=>s.badgeFilter.includes(a.badge))),s.typeFilter.length>0&&(r=r.filter(a=>s.typeFilter.includes(a.type))),s.frameworkFilter.length>0&&(r=r.filter(a=>(a.framework||[]).some(f=>s.frameworkFilter.includes(f)))),s.search&&(r=r.filter(a=>(a.categories?a.categories.join(","):"").toLowerCase().indexOf(s.search.toLowerCase())>-1||a.templateName.toLowerCase().indexOf(s.search.toLowerCase())>-1||a.description&&a.description.toLowerCase().indexOf(s.search.toLowerCase())>-1));const n=[];for(let a=0;a<r.length;a+=1)r[a].flowData&&n.push(...r[a].usecases);g===0?l(Array.from(new Set(n)).sort()):ke(Array.from(new Set(n)).sort())},yt=t=>{ye({title:"Add New Tool",type:"IMPORT",cancelButtonName:"Cancel",confirmButtonName:"Add",data:t}),J(!0)},P=t=>{const s={title:t.templateName,type:"TEMPLATE",data:t};ye(s),J(!0)},E=t=>{t.type==="AgentflowV2"?y(`/v2/marketplace/${t.id}`,{state:t}):y(`/marketplace/${t.id}`,{state:t})};return i.useEffect(()=>{L("templates:marketplace")?m.request():L("templates:custom")&&(be(1),d.request())},[]),i.useEffect(()=>{q(m.loading)},[m.loading]),i.useEffect(()=>{if(m.data)try{const t=m.data,s=[],r={},n={};for(let a=0;a<t.length;a+=1)if(t[a].flowData){const f=t[a].flowData,ne=JSON.parse(f);s.push(...t[a].usecases);const j=ne.nodes||[];r[t[a].id]=[],n[t[a].id]=[];for(let x=0;x<j.length;x+=1){if(j[x].data.name==="stickyNote"||j[x].data.name==="stickyNoteAgentflow")continue;const R=We.find(w=>w.name===j[x].data.name);if(R)n[t[a].id].push(R);else{const w=`${ze}/api/v1/node-icon/${j[x].data.name}`;r[t[a].id].some(bt=>bt.imageSrc===w)||r[t[a].id].push({imageSrc:w,label:j[x].data.name})}}}ie(r),_(n),oe(Array.from(new Set(s)).sort()),l(Array.from(new Set(s)).sort())}catch(t){console.error(t)}},[m.data]),i.useEffect(()=>{m.error&&b&&b(m.error)},[m.error]),i.useEffect(()=>{q(d.loading)},[d.loading]),i.useEffect(()=>{if(d.data)try{const t=d.data,s=[],r={},n={};for(let a=0;a<t.length;a+=1)if(t[a].flowData){const f=t[a].flowData,ne=JSON.parse(f);s.push(...t[a].usecases),t[a].framework&&(t[a].framework=[t[a].framework]);const j=ne.nodes||[];r[t[a].id]=[],n[t[a].id]=[];for(let x=0;x<j.length;x+=1){const R=We.find(w=>w.name===j[x].data.name);if(R)n[t[a].id].push(R);else{const w=`${ze}/api/v1/node-icon/${j[x].data.name}`;r[t[a].id].includes(w)||r[t[a].id].push(w)}}}at(r),rt(n),ot(Array.from(new Set(s)).sort()),ke(Array.from(new Set(s)).sort())}catch(t){console.error(t)}},[d.data]),i.useEffect(()=>{d.error&&b&&b(d.error)},[d.error]),e.jsxs(e.Fragment,{children:[e.jsx(Pt,{children:$?e.jsx(Vt,{error:$}):e.jsxs(F,{flexDirection:"column",children:[e.jsx(zt,{filters:e.jsxs(e.Fragment,{children:[e.jsxs(he,{sx:{borderRadius:2,display:"flex",flexDirection:"column",justifyContent:"end",minWidth:120},children:[e.jsx(ue,{size:"small",id:"filter-badge-label",children:"Tag"}),e.jsx(ce,{labelId:"filter-badge-label",id:"filter-badge-checkbox",size:"small",multiple:!0,value:v,onChange:xt,input:e.jsx(pe,{label:"Tag"}),renderValue:t=>t.join(", "),MenuProps:fe,sx:le(c.palette.grey[900]+25,(Ae=c==null?void 0:c.customization)==null?void 0:Ae.isDarkMode),children:Kt.map(t=>e.jsxs(de,{value:t,sx:{display:"flex",alignItems:"center",gap:1,p:1},children:[e.jsx(z,{checked:v.indexOf(t)>-1,sx:{p:0}}),e.jsx(te,{primary:t})]},t))})]}),e.jsxs(he,{sx:{borderRadius:2,display:"flex",flexDirection:"column",justifyContent:"end",minWidth:120},children:[e.jsx(ue,{size:"small",id:"type-badge-label",children:"Type"}),e.jsx(ce,{size:"small",labelId:"type-badge-label",id:"type-badge-checkbox",multiple:!0,value:D,onChange:ht,input:e.jsx(pe,{label:"Type"}),renderValue:t=>t.join(", "),MenuProps:fe,sx:le(c.palette.grey[900]+25,(Be=c==null?void 0:c.customization)==null?void 0:Be.isDarkMode),children:Zt.map(t=>e.jsxs(de,{value:t,sx:{display:"flex",alignItems:"center",gap:1,p:1},children:[e.jsx(z,{checked:D.indexOf(t)>-1,sx:{p:0}}),e.jsx(te,{primary:t})]},t))})]}),e.jsxs(he,{sx:{borderRadius:2,display:"flex",flexDirection:"column",justifyContent:"end",minWidth:120},children:[e.jsx(ue,{size:"small",id:"type-fw-label",children:"Framework"}),e.jsx(ce,{size:"small",labelId:"type-fw-label",id:"type-fw-checkbox",multiple:!0,value:I,onChange:ut,input:e.jsx(pe,{label:"Framework"}),renderValue:t=>t.join(", "),MenuProps:fe,sx:le(c.palette.grey[900]+25,(Le=c==null?void 0:c.customization)==null?void 0:Le.isDarkMode),children:es.map(t=>e.jsxs(de,{value:t,sx:{display:"flex",alignItems:"center",gap:1,p:1},children:[e.jsx(z,{checked:I.indexOf(t)>-1,sx:{p:0}}),e.jsx(te,{primary:t})]},t))})]})]}),onSearchChange:ft,search:!0,searchPlaceholder:"Search Name/Description/Node",title:"Marketplace",description:"Explore and use pre-built templates",children:e.jsxs(_t,{sx:{borderRadius:2,height:"100%"},value:U,color:"primary",exclusive:!0,onChange:gt,children:[e.jsx(Ve,{sx:{borderColor:c.palette.grey[900]+25,borderRadius:2,color:(Pe=c==null?void 0:c.customization)!=null&&Pe.isDarkMode?"white":"inherit"},variant:"contained",value:"card",title:"Card View",children:e.jsx(Ht,{})}),e.jsx(Ve,{sx:{borderColor:c.palette.grey[900]+25,borderRadius:2,color:(Ee=c==null?void 0:c.customization)!=null&&Ee.isDarkMode?"white":"inherit"},variant:"contained",value:"list",title:"List View",children:e.jsx(Et,{})})]})}),L("templates:marketplace")&&L("templates:custom")&&e.jsxs(F,{direction:"row",justifyContent:"space-between",sx:{mb:2},children:[e.jsxs(Jt,{value:g,onChange:pt,textColor:"primary","aria-label":"tabs",children:[e.jsx($e,{permissionId:"templates:marketplace",value:0,label:"Community Templates"}),e.jsx($e,{permissionId:"templates:custom",value:1,label:"My Templates"})]}),e.jsx(Xt,{id:"useCases",multiple:!0,size:"small",options:N,value:M,onChange:(t,s)=>u(s),disableCloseOnSelect:!0,getOptionLabel:t=>t,isOptionEqualToValue:(t,s)=>t===s,renderOption:(t,s,{selected:r})=>{const n=H.length>0&&!H.includes(s);return e.jsxs("li",{...t,style:{pointerEvents:n?"none":"auto"},children:[e.jsx(z,{checked:r,color:"success",disabled:n}),e.jsx(te,{primary:s})]})},renderInput:t=>e.jsx(Yt,{...t,label:"Usecases"}),sx:{width:300},limitTags:2,renderTags:(t,s)=>{const r=t.length,n=2;return e.jsxs(e.Fragment,{children:[t.slice(0,n).map((a,f)=>i.createElement(re,{...s({index:f}),key:f,label:a,sx:{height:24,"& .MuiSvgIcon-root":{fontSize:16,background:"None"}}})),r>n&&e.jsxs(Qt,{title:e.jsx("ol",{style:{paddingLeft:"20px"},children:t.slice(n).map((a,f)=>e.jsx("li",{children:a},f))}),placement:"top",children:["+",r-n]})]})},slotProps:{paper:{sx:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"}}}})]}),e.jsx(qe,{permission:"templates:marketplace",children:e.jsxs(_e,{value:g,index:0,children:[!U||U==="card"?e.jsx(e.Fragment,{children:C?e.jsxs(T,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:se,children:[e.jsx(p,{variant:"rounded",height:160}),e.jsx(p,{variant:"rounded",height:160}),e.jsx(p,{variant:"rounded",height:160})]}):e.jsx(T,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:se,children:(Oe=m.data)==null?void 0:Oe.filter(Q).filter(Y).filter(X).filter(K).filter(Z).map((t,s)=>e.jsxs(T,{children:[t.badge&&e.jsxs(He,{sx:{width:"100%",height:"100%","& .MuiBadge-badge":{right:20}},badgeContent:t.badge,color:t.badge==="POPULAR"?"primary":"error",children:[(t.type==="Chatflow"||t.type==="Agentflow"||t.type==="AgentflowV2")&&e.jsx(k,{onClick:()=>E(t),data:t,images:G[t.id],icons:O[t.id]}),t.type==="Tool"&&e.jsx(k,{data:t,onClick:()=>P(t)})]}),!t.badge&&(t.type==="Chatflow"||t.type==="Agentflow"||t.type==="AgentflowV2")&&e.jsx(k,{onClick:()=>E(t),data:t,images:G[t.id],icons:O[t.id]}),!t.badge&&t.type==="Tool"&&e.jsx(k,{data:t,onClick:()=>P(t)})]},s))})}):e.jsx(je,{data:m.data,filterFunction:X,filterByType:Y,filterByBadge:Q,filterByFramework:K,filterByUsecases:Z,goToTool:P,goToCanvas:E,isLoading:C,setError:b}),!C&&(!m.data||m.data.length===0)&&e.jsxs(F,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[e.jsx(T,{sx:{p:2,height:"auto"},children:e.jsx("img",{style:{objectFit:"cover",height:"25vh",width:"auto"},src:Ge,alt:"WorkflowEmptySVG"})}),e.jsx("div",{children:"No Marketplace Yet"})]})]})}),e.jsx(qe,{permission:"templates:custom",children:e.jsxs(_e,{value:g,index:1,children:[e.jsx(F,{direction:"row",sx:{gap:2,my:2,alignItems:"center",flexWrap:"wrap"},children:it.map((t,s)=>e.jsx(Ot,{size:"small",control:e.jsx(z,{disabled:Te.length===0?!0:!Te.includes(t),color:"success",checked:B.includes(t),onChange:r=>{Se(r.target.checked?[...B,t]:B.filter(n=>n!==t))}}),label:t},s))}),B.length>0&&e.jsx(ae,{sx:{width:"max-content",mb:2,borderRadius:"20px"},variant:"outlined",onClick:()=>mt(),startIcon:e.jsx(me,{}),children:"Clear All"}),!U||U==="card"?e.jsx(e.Fragment,{children:C?e.jsxs(T,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:se,children:[e.jsx(p,{variant:"rounded",height:160}),e.jsx(p,{variant:"rounded",height:160}),e.jsx(p,{variant:"rounded",height:160})]}):e.jsx(T,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:se,children:(Ne=d.data)==null?void 0:Ne.filter(Q).filter(Y).filter(X).filter(K).filter(Z).map((t,s)=>e.jsxs(T,{children:[t.badge&&e.jsxs(He,{sx:{width:"100%",height:"100%","& .MuiBadge-badge":{right:20}},badgeContent:t.badge,color:t.badge==="POPULAR"?"primary":"error",children:[(t.type==="Chatflow"||t.type==="Agentflow"||t.type==="AgentflowV2")&&e.jsx(k,{onClick:()=>E(t),data:t,images:we[t.id],icons:Ce[t.id]}),t.type==="Tool"&&e.jsx(k,{data:t,onClick:()=>P(t)})]}),!t.badge&&(t.type==="Chatflow"||t.type==="Agentflow"||t.type==="AgentflowV2")&&e.jsx(k,{onClick:()=>E(t),data:t,images:we[t.id],icons:Ce[t.id]}),!t.badge&&t.type==="Tool"&&e.jsx(k,{data:t,onClick:()=>P(t)})]},s))})}):e.jsx(je,{data:d.data,filterFunction:X,filterByType:Y,filterByBadge:Q,filterByFramework:K,filterByUsecases:Z,goToTool:P,goToCanvas:E,isLoading:C,setError:b,onDelete:L("templates:custom-delete")?jt:null,onShare:L("templates:custom-share")?dt:null}),!C&&(!d.data||d.data.length===0)&&e.jsxs(F,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[e.jsx(T,{sx:{p:2,height:"auto"},children:e.jsx("img",{style:{objectFit:"cover",height:"25vh",width:"auto"},src:Ge,alt:"WorkflowEmptySVG"})}),e.jsx("div",{children:"No Saved Custom Templates"})]})]})})]})}),e.jsx(Ut,{show:S,dialogProps:Ye,onCancel:()=>J(!1),onConfirm:()=>J(!1),onUseTemplate:t=>yt(t)}),Ie&&e.jsx(Gt,{show:Ie,dialogProps:nt,onCancel:()=>Fe(!1),setError:b}),e.jsx(qt,{})]})};export{Rs as default};
