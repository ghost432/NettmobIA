import{af as F,t as ce,r as o,j as e,D as xe,m as ve,n as ge,S as c,E as _e,B as x,o as m,a5 as Q,p as fe,q as E,aa as qe,w as je,P as O,s as ye,v as We,H as me,h as Ve,e as be,aq as he,i as G,L as we,N as Se,a as Le,f as $e,b as Ge,c as Fe,M as Ye,Q as He,R as Ue,U as Je,V as Qe,W as Xe,_ as D,X as Ze,C as h,b6 as Ke,a0 as et}from"./index-B5bgjFPS.js";import{V as tt}from"./ViewHeader-t5dVj9Vk.js";import{E as at}from"./ErrorBoundary-x4bZaoHs.js";import{C as De,u as ot}from"./ConfirmDialog-Dfe34hOz.js";import{E as nt}from"./ExpandTextDialog-XWdUWqGp.js";import{D as K}from"./Dropdown-D8Rr64ju.js";import{T as Ce}from"./TooltipWithParser-D26Faoyy.js";import{G as ke}from"./Grid-DGDGmzGP.js";import{I as st,e as te}from"./evaluators-DeqtpQ_m.js";import{d as rt}from"./Delete-4D-T7tnN.js";import{a as it,n as ee,e as X}from"./evaluatorConstant-DqyckRrE.js";import{I as Ee}from"./IconPlus-j8jP5X4Z.js";import{I as lt}from"./IconArrowsMaximize-BLCViMbK.js";import{I as ct}from"./IconBulb-BQTovKvQ.js";import{G as dt}from"./GridActionsCellItem-B3aQ_RGo.js";import{S as ie,a as C}from"./TableStyles-gXDYNr-F.js";import{D as pt,T as ut}from"./TablePagination-DXVFzOgw.js";import{m as mt}from"./moment-BDbvUjbq.js";import{S as k}from"./Skeleton-DJP3nnUt.js";import{I as ht}from"./IconTrash-CekgWF9B.js";import"./StyledFab-DFomU4Vk.js";import"./IconSearch-4bUU90FL.js";import"./IconCopy-bbAsun7S.js";import"./CodeEditor-BbQJOBPh.js";import"./index-C-cusT-F.js";import"./nodes-Qb-8otVq.js";import"./LoadingButton-CJHvS9bV.js";import"./FormControl-o0rphY-g.js";import"./Autocomplete-CinIIKT5.js";import"./Close-DT9tpzn1.js";import"./TextField-OmGdqrIf.js";import"./InputLabel-BtU13bbu.js";import"./index-D--Rb2MU.js";import"./Tooltip-CXmeiPEa.js";import"./toPropertyKey-C9c9JG92.js";import"./createStyled-DlEbU-rO.js";import"./InputAdornment-v58Edx4J.js";import"./KeyboardArrowRight-BvTOCIXU.js";import"./LastPage--XaxDP-k.js";import"./Pagination-BU6C4W3P.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6",key:"svg-0"}],["path",{d:"M3 13h4",key:"svg-1"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1",key:"svg-2"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01",key:"svg-3"}]],vt=F("outline","abc","Abc",xt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}],["path",{d:"M12 12.5l4 -2.5",key:"svg-4"}],["path",{d:"M8 10l4 2.5v4.5l4 -2.5v-4.5l-4 -2.5z",key:"svg-5"}],["path",{d:"M8 10v4.5l4 2.5",key:"svg-6"}]],ft=F("outline","augmented-reality","AugmentedReality",gt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M20 16v-8l3 8v-8",key:"svg-0"}],["path",{d:"M15 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z",key:"svg-1"}],["path",{d:"M1 8h3v6.5a1.5 1.5 0 0 1 -3 0v-.5",key:"svg-2"}],["path",{d:"M7 15a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h1a1 1 0 0 1 1 1",key:"svg-3"}]],yt=F("outline","json","Json",jt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 7l6 0",key:"svg-1"}],["path",{d:"M9 11l6 0",key:"svg-2"}],["path",{d:"M9 15l4 0",key:"svg-3"}]],wt=F("outline","notes","Notes",bt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]],Dt=F("outline","number-123","Number123",St);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M4 7h3a1 1 0 0 0 1 -1v-1a2 2 0 0 1 4 0v1a1 1 0 0 0 1 1h3a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h1a2 2 0 0 1 0 4h-1a1 1 0 0 0 -1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-1a2 2 0 0 0 -4 0v1a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h1a2 2 0 0 0 0 -4h-1a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1",key:"svg-0"}]],kt=F("outline","puzzle","Puzzle",Ct),le=[{name:"correctness",label:"Correctness",json:[{id:1,property:"score",description:"graded score",type:"number",required:!0}],prompt:`Respond with a numeric score based on how well the following response compare to the ground truth. Grade only based expected response:

Ground Truth: {expectedOutput}

DATA:
---------
Response: {actualOutput}
---------

Do not include any other information in your response. Do not evaluate correctness to the question, only match it to the reference. It is very critical that you answer only with a numeric score. Is the assistants answer grounded in and similar to the ground truth answer? A score of 1 means that the assistant answer is not at all grounded in the ground truth answer, while a score of 5 means that the assistant answer contains some information that is grounded in and similar to the ground truth answer. A score of 10 means that the assistant answer is fully ground and similar to the ground truth answer. Please provide a score between 1 and 10. Do not generate any newlines in the response.`},{name:"hallucination",label:"Hallucination",json:[{id:1,property:"score",description:"provide a score between 0 and 1",type:"number",required:!0},{id:2,property:"reasoning",description:"provide a one sentence reasoning",type:"string",required:!0}],prompt:`Evaluate the degree of hallucination in the generation on a continuous scale from 0 to 1. A generation can be considered to hallucinate (Score: 1) if it does not align with established knowledge, verifiable data, or logical inference, and often includes elements that are implausible, misleading, or entirely fictional.

Example:
Query: Can eating carrots improve your vision?
Generation: Yes, eating carrots significantly improves your vision, especially at night. This is why people who eat lots of carrots never need glasses. Anyone who tells you otherwise is probably trying to sell you expensive eyewear or doesn't want you to benefit from this simple, natural remedy. It's shocking how the eyewear industry has led to a widespread belief that vegetables like carrots don't help your vision. People are so gullible to fall for these money-making schemes.

Score: 1.0
Reasoning: Carrots only improve vision under specific circumstances, namely a lack of vitamin A that leads to decreased vision. Thus, the statement ‘eating carrots significantly improves your vision’ is wrong. Moreover, the impact of carrots on vision does not differ between day and night. So also the clause ‘especially is night’ is wrong. Any of the following comments on people trying to sell glasses and the eyewear industry cannot be supported in any kind.

Input:
Query: {question}
Generation: {actualOutput}

Think step by step.`}],Ie=({show:v,dialogProps:i,onCancel:b,onConfirm:q})=>{const W=document.getElementById("portal");ce();const[l,g]=o.useState(""),[N,f]=o.useState([]),[w,s]=o.useState("");o.useEffect(()=>(A(),()=>{A()}),[i]);const A=()=>{g(""),f([]),s("")},I=async r=>{if(r){const p=le.find(_=>_.name===r);f(p.json),s(p.prompt),g(p.name)}else g(""),f([]),s("")},V=async()=>{const r=le.find(p=>p.name===l);q(r)},d=()=>!l||!w,S=o.useMemo(()=>[{field:"property",headerName:"Property",flex:1},{field:"type",headerName:"Type",type:"singleSelect",valueOptions:["string","number","boolean"],width:120},{field:"description",headerName:"Description",flex:1},{field:"required",headerName:"Required",type:"boolean",width:80},{field:"actions",type:"actions",width:80,getActions:()=>[]}],[]),R=v?e.jsxs(xe,{fullWidth:!0,maxWidth:"sm",open:v,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(ve,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[e.jsx(st,{style:{marginRight:"10px"}}),"Sample Prompts"]})}),e.jsx(ge,{children:e.jsxs(c,{direction:"column",spacing:2,children:[e.jsx(_e,{}),e.jsxs(x,{children:[e.jsxs(m,{variant:"overline",children:["Available Prompts",e.jsx("span",{style:{color:"red"},children:" *"})]}),e.jsx(K,{name:"dataset",defaultOption:"Select Prompt",options:le,onSelect:I,value:l},l)]}),l&&e.jsxs(x,{sx:{pb:2},children:[e.jsx(c,{style:{position:"relative",justifyContent:"space-between"},direction:"row",children:e.jsxs(c,{style:{position:"relative",alignItems:"center"},direction:"row",children:[e.jsx(m,{variant:"overline",children:"Output Schema"}),e.jsx(Ce,{title:"Instruct the LLM to give formatted JSON output"})]})}),e.jsx(ke,{columns:S,rows:N,disabled:"true"})]}),l&&e.jsxs(x,{sx:{pb:2},children:[e.jsx("div",{style:{display:"flex",flexDirection:"row"},children:e.jsx(m,{variant:"overline",children:"Prompt"})}),e.jsx(Q,{size:"small",multiline:!0,type:"string",rows:6,fullWidth:!0,onChange:r=>s(r.target.value),value:w},"prompt")]})]})}),e.jsxs(fe,{style:{marginBottom:10},children:[e.jsx(E,{onClick:()=>b(),children:i.cancelButtonName}),e.jsx(qe,{disabled:d(),sx:{mr:2,borderRadius:25},variant:"contained",onClick:()=>V(),children:"Select Prompt"})]})]}):null;return je.createPortal(R,W)};Ie.propTypes={show:O.bool,dialogProps:O.object,onCancel:O.func,onConfirm:O.func};const Me=({show:v,dialogProps:i,onCancel:b,onConfirm:q})=>{const W=document.getElementById("portal"),l=ye();ce();const g=(...a)=>l(we(...a)),N=(...a)=>l(Se(...a)),[f,w]=o.useState(""),[s,A]=o.useState(""),[I,V]=o.useState([]),[d,S]=o.useState(),[R,r]=o.useState(""),[p,_]=o.useState("0"),[M,Y]=o.useState("equals"),[ae,H]=o.useState(!1),[oe,U]=o.useState({}),[ne,J]=o.useState(!1),[L,se]=o.useState({}),[$,T]=o.useState([]),[t,u]=o.useState(""),B=o.useCallback(a=>()=>{setTimeout(()=>{T(n=>n.filter(y=>y.id!==a))})},[]),P=a=>{u(a.prompt),T(a.json),J(!1)},z=a=>{se({value:t,inputParam:a,confirmButtonName:"Save",cancelButtonName:"Cancel"}),J(!0)},Z=a=>{U({value:t,inputParam:a,confirmButtonName:"Save",cancelButtonName:"Cancel"}),H(!0)},j=a=>{H(!1),u(a)},Te=()=>{setTimeout(()=>{T(a=>{let n=[...he.cloneDeep(a)];const y=n.length?n[n.length-1].id+1:1;return n.push({id:y,property:"",description:"",type:"",required:!1}),n})})},Pe=a=>{setTimeout(()=>{T(n=>{let y=[...he.cloneDeep(n)];const ue=y.findIndex(Re=>Re.id===a.id);return ue>=0&&(y[ue]={...a}),y})})},Ne=o.useMemo(()=>[{field:"property",headerName:"Property",editable:!0,flex:1},{field:"type",headerName:"Type",type:"singleSelect",valueOptions:["string","number","boolean"],editable:!0,width:120},{field:"description",headerName:"Description",editable:!0,flex:1},{field:"required",headerName:"Required",type:"boolean",editable:!0,width:80},{field:"actions",type:"actions",width:80,getActions:a=>[e.jsx(dt,{icon:e.jsx(rt,{}),label:"Delete",onClick:B(a.id)},"Delete")]}],[B]),re=a=>{A(a),V(X.filter(n=>n.type===a)),S(""),r("")},de=()=>{if(d){const a=I.find(n=>n.name===d);if(a)return a.description}return""},Ae=()=>{if(!f||!s)return!0;if(s==="text")return!d||!R;if(s==="numeric")return!d||!M||!p;if(s==="llm")return!t||$.length===0},Be=async()=>{try{const a=pe(),n=await te.updateEvaluator(i.data.id,a);n.data&&(g({message:`Evaluator ${f} updated`,options:{key:new Date().getTime()+Math.random(),variant:"success",action:y=>e.jsx(E,{style:{color:"white"},onClick:()=>N(y),children:e.jsx(G,{})})}}),q(n.data.id))}catch(a){g({message:`Failed to update Evaluator ${f}: ${typeof a.response.data=="object"?a.response.data.message:a.response.data}`,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:n=>e.jsx(E,{style:{color:"white"},onClick:()=>N(n),children:e.jsx(G,{})})}}),b()}},pe=()=>{const a={name:f,type:s};return s==="numeric"?(a.operator=M,a.value=p,a.measure=d):s==="text"||s==="json"?(a.operator=d,a.value=R):s==="llm"&&(a.outputSchema=$,a.prompt=t),a},ze=async()=>{try{const a=pe(),n=await te.createEvaluator(a);n.data&&(g({message:"New Evaluator added",options:{key:new Date().getTime()+Math.random(),variant:"success",action:y=>e.jsx(E,{style:{color:"white"},onClick:()=>N(y),children:e.jsx(G,{})})}}),q(n.data.id))}catch(a){g({message:`Failed to add new Evaluator: ${typeof a.response.data=="object"?a.response.data.message:a.response.data}`,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:n=>e.jsx(E,{style:{color:"white"},onClick:()=>N(n),children:e.jsx(G,{})})}}),b()}};o.useEffect(()=>{if(i.data&&i.type==="EDIT"){const a=i.data;re(a.type),w(a.name),a.type==="text"||a.type==="json"?(S(a.operator),r(a.value)):a.type==="numeric"?(r(a.measure),_(a.value),Y(a.operator),S(a.measure)):a.type==="llm"&&(u(a.prompt),T(a.outputSchema))}else if(i.data&&i.type==="ADD"){const a=i.data;re(a.type),w(a.name),T([])}return()=>{w(""),A(""),V([]),S(""),r(""),_("0"),Y("equals"),T([])}},[i]),o.useEffect(()=>(l(v?{type:We}:{type:me}),()=>l({type:me})),[v,l]);const Oe=v?e.jsxs(xe,{fullWidth:!0,maxWidth:"md",open:v,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(ve,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[e.jsx(kt,{style:{marginRight:"10px"}}),i.type==="ADD"?"Add Evaluator":"Edit Evaluator"]})}),e.jsxs(ge,{children:[e.jsxs(x,{sx:{pb:2},children:[e.jsx(m,{variant:"overline",children:"Name"}),e.jsx(Q,{size:"small",multiline:!1,type:"string",fullWidth:!0,onChange:a=>w(a.target.value),value:f??""},"name")]}),e.jsxs(x,{sx:{pb:2},children:[e.jsx(m,{variant:"overline",children:"Evaluator Type"}),e.jsx(K,{name:"evaluatorType",defaultOption:"Select Type",options:it,onSelect:a=>re(a),value:s},s)]}),s&&s!=="llm"&&e.jsxs(x,{sx:{pb:2},children:[e.jsx(m,{variant:"overline",children:"Available Evaluators"}),e.jsx(K,{name:"availableEvaluators",defaultOption:"Select Dataset",options:I,onSelect:a=>S(a),value:d},d)]}),s==="numeric"&&d&&e.jsxs(e.Fragment,{children:[e.jsxs(x,{sx:{pb:2},children:[e.jsx(m,{variant:"overline",children:"Select Operator"}),e.jsx(K,{name:"metric",defaultOption:"equals",options:ee,onSelect:a=>Y(a),value:M},M)]}),e.jsxs(x,{sx:{pb:2},children:[e.jsx(m,{variant:"overline",children:"Value"}),e.jsx(Q,{size:"small",type:"number",fullWidth:!0,onChange:a=>_(a.target.value),value:p??"0"},"selectedValue"),e.jsx(m,{variant:"caption",style:{fontStyle:"italic"},children:de()})]})]}),s==="text"&&d&&e.jsx(e.Fragment,{children:e.jsxs(x,{sx:{pb:2},children:[e.jsx(m,{variant:"overline",children:"Value"}),e.jsx(Q,{size:"small",multiline:!0,type:"string",rows:4,fullWidth:!0,onChange:a=>r(a.target.value),value:R,sx:{mb:2}},"selectedValue"),e.jsx(m,{variant:"caption",style:{opacity:.9,fontStyle:"italic"},children:de()})]})}),s==="llm"&&e.jsxs(e.Fragment,{children:[e.jsxs(x,{sx:{pb:2},children:[e.jsxs(c,{style:{position:"relative",justifyContent:"space-between"},direction:"row",children:[e.jsxs(c,{style:{position:"relative",alignItems:"center"},direction:"row",children:[e.jsx(m,{variant:"overline",children:"Output Schema"}),e.jsx(Ce,{title:"What is the output format in JSON?"})]}),e.jsxs(c,{style:{position:"relative",alignItems:"right"},direction:"row",children:[e.jsx(E,{variant:"outlined",onClick:z,startIcon:e.jsx(wt,{}),sx:{mr:1},children:"Load from Pre defined Samples"}),e.jsx(E,{variant:"outlined",onClick:Te,startIcon:e.jsx(Ee,{}),children:"Add Item"})]})]}),e.jsx(ke,{columns:Ne,rows:$,onRowUpdate:Pe})]}),e.jsxs(x,{sx:{pb:2},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[e.jsx(m,{variant:"overline",children:"Prompt"}),e.jsx("div",{style:{flexGrow:1}}),t&&e.jsx(Ve,{size:"small",sx:{height:25,width:25},title:"Expand",color:"primary",onClick:()=>Z({label:"Evaluation Prompt",name:"evaluationPrompt",type:"string"}),children:e.jsx(lt,{})})]}),e.jsx(Q,{size:"small",multiline:!0,type:"string",rows:6,fullWidth:!0,onChange:a=>u(a.target.value),value:t},"prompt"),e.jsx("div",{style:{display:"flex",flexDirection:"column",borderRadius:10,background:"#d8f3dc",padding:10,marginTop:10,marginBottom:10},children:e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[e.jsx(ct,{size:25,color:"#2d6a4f"}),e.jsxs("span",{style:{color:"#2d6a4f",marginLeft:10,fontWeight:400},children:["You can use ",e.jsx("strong",{children:"{question}"})," ",e.jsx("strong",{children:"{actualOutput}"})," ",e.jsx("strong",{children:"{expectedOutput}"})," to inject runtime values into your prompt."]})]})})]})]})]}),e.jsxs(fe,{children:[e.jsx(E,{onClick:()=>b(),children:i.cancelButtonName}),e.jsx(be,{permissionId:"evaluators:create,evaluators:update",disabled:Ae(),variant:"contained",onClick:()=>i.type==="ADD"?ze():Be(),children:i.confirmButtonName})]}),e.jsx(De,{}),e.jsx(nt,{show:ae,dialogProps:oe,onCancel:()=>H(!1),onConfirm:a=>j(a)}),e.jsx(Ie,{show:ne,dialogProps:L,onCancel:()=>J(!1),onConfirm:a=>P(a)})]}):null;return je.createPortal(Oe,W)};Me.propTypes={show:O.bool,dialogProps:O.object,onCancel:O.func,onConfirm:O.func};const Et="/assets/empty_evaluators-Cz_ZUs52.svg",ha=()=>{const v=Le(),i=$e(t=>t.customization),b=ye(),{confirm:q}=ot();ce();const{error:W}=Ge(),l=(...t)=>b(we(...t)),g=(...t)=>b(Se(...t)),[N,f]=o.useState(""),[w,s]=o.useState(!0),[A,I]=o.useState(!1),[V,d]=o.useState({}),[S,R]=o.useState([]),r=Fe(te.getAllEvaluators),[p,_]=o.useState(1),[M,Y]=o.useState(pt),[ae,H]=o.useState(0),oe=(t,u)=>{_(t),Y(u),U(t,u)},U=(t,u)=>{const B={page:t||p,limit:u||M};r.request(B)},ne=t=>{f(t.target.value)},J=()=>{d({type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add",data:{}}),I(!0)},L=t=>{d({type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",data:t}),I(!0)},se=async t=>{const u={title:"Delete",description:`Delete Evaluator ${t.name}?`,confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await q(u))try{(await te.deleteEvaluator(t.id)).data&&(l({message:"Evaluator deleted",options:{key:new Date().getTime()+Math.random(),variant:"success",action:z=>e.jsx(E,{style:{color:"white"},onClick:()=>g(z),children:e.jsx(G,{})})}}),$())}catch(P){l({message:`Failed to delete Evaluator: ${typeof P.response.data=="object"?P.response.data.message:P.response.data}`,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:z=>e.jsx(E,{style:{color:"white"},onClick:()=>g(z),children:e.jsx(G,{})})}})}},$=()=>{I(!1),U(p,M)};function T(t){return t.name.toLowerCase().indexOf(N.toLowerCase())>-1}return o.useEffect(()=>{U(p,M)},[]),o.useEffect(()=>{r.data&&(R(r.data.data),H(r.data.total))},[r.data]),o.useEffect(()=>{s(r.loading)},[r.loading]),e.jsxs(e.Fragment,{children:[e.jsx(Ye,{children:W?e.jsx(at,{error:W}):e.jsxs(c,{flexDirection:"column",sx:{gap:3},children:[e.jsx(tt,{isBackButton:!1,isEditButton:!1,onSearchChange:ne,search:!0,title:"Evaluators",description:"",children:e.jsx(be,{permissionId:"evaluators:create",sx:{borderRadius:2,height:"100%"},variant:"contained",onClick:J,startIcon:e.jsx(Ee,{}),children:"New Evaluator"})}),!w&&S.length<=0?e.jsxs(c,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[e.jsx(x,{sx:{p:2,height:"auto"},children:e.jsx("img",{style:{objectFit:"cover",height:"20vh",width:"auto"},src:Et,alt:"empty_evaluatorSVG"})}),e.jsx("div",{children:"No Evaluators Yet"})]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{sx:{border:1,borderColor:v.palette.grey[900]+25,borderRadius:2},component:Ue,children:e.jsxs(Je,{sx:{minWidth:650},children:[e.jsx(Qe,{sx:{backgroundColor:i.isDarkMode?v.palette.common.black:v.palette.grey[100],height:56},children:e.jsxs(Xe,{children:[e.jsx(D,{children:"Type"}),e.jsx(D,{children:"Name"}),e.jsx(D,{children:"Details"}),e.jsx(D,{children:"Last Updated"}),e.jsx(D,{children:" "})]})}),e.jsx(Ze,{children:w?e.jsxs(e.Fragment,{children:[e.jsxs(ie,{children:[e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})})]}),e.jsxs(ie,{children:[e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})}),e.jsx(C,{children:e.jsx(k,{variant:"text"})})]})]}):e.jsx(e.Fragment,{children:S.filter(T).map((t,u)=>{var B,P,z,Z;return e.jsx(e.Fragment,{children:e.jsxs(ie,{hover:!0,sx:{cursor:"pointer","&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(D,{onClick:()=>L(t),children:[(t==null?void 0:t.type)==="numeric"&&e.jsx(c,{flexDirection:"row",sx:{alignItems:"center"},children:e.jsx(h,{icon:e.jsx(Dt,{}),label:"Numeric",variant:"outlined"})}),(t==null?void 0:t.type)==="text"&&e.jsx(c,{flexDirection:"row",sx:{alignItems:"center"},children:e.jsx(h,{icon:e.jsx(vt,{}),label:"Text Based",variant:"outlined"})}),(t==null?void 0:t.type)==="json"&&e.jsx(c,{flexDirection:"row",sx:{alignItems:"center"},children:e.jsx(h,{icon:e.jsx(yt,{}),label:"JSON Based",variant:"outlined"})}),(t==null?void 0:t.type)==="llm"&&e.jsx(c,{flexDirection:"row",sx:{alignItems:"center"},children:e.jsx(h,{icon:e.jsx(ft,{}),label:"LLM Based",variant:"outlined"})})]}),e.jsx(D,{onClick:()=>L(t),component:"th",scope:"row",children:t.name}),e.jsxs(D,{style:{width:"40%"},onClick:()=>L(t),children:[(t==null?void 0:t.type)==="numeric"&&e.jsxs(c,{flexDirection:"row",gap:1,sx:{alignItems:"center",flexWrap:"wrap"},children:[e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Measure"}),":"," ",(B=[...X,...ee].find(j=>j.name===(t==null?void 0:t.measure)))==null?void 0:B.label]})}),e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Operator"}),":"," ",(P=[...X,...ee].find(j=>j.name===(t==null?void 0:t.operator)))==null?void 0:P.label]})}),e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Value"}),": ",t==null?void 0:t.value]})})]}),(t==null?void 0:t.type)==="text"&&e.jsxs(c,{flexDirection:"row",gap:1,sx:{alignItems:"center",flexWrap:"wrap"},children:[e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Operator"}),":"," ",(z=[...X,...ee].find(j=>j.name===(t==null?void 0:t.operator)))==null?void 0:z.label]})}),e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Value"}),": ",t==null?void 0:t.value]})})]}),(t==null?void 0:t.type)==="json"&&e.jsx(c,{flexDirection:"row",gap:1,sx:{alignItems:"center",flexWrap:"wrap"},children:e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Operator"}),":"," ",(Z=[...X].find(j=>j.name===(t==null?void 0:t.operator)))==null?void 0:Z.label]})})}),(t==null?void 0:t.type)==="llm"&&e.jsxs(c,{flexDirection:"row",gap:1,sx:{alignItems:"center",flexWrap:"wrap"},children:[e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Prompt"}),": ",Ke(t==null?void 0:t.prompt,100)]})}),e.jsx(h,{variant:"outlined",size:"small",color:"default",sx:{height:"auto","& .MuiChip-label":{display:"block",whiteSpace:"normal"},p:.5},label:e.jsxs("span",{children:[e.jsx("b",{children:"Output Schema Elements"}),":"," ",(t==null?void 0:t.outputSchema.length)>0?t==null?void 0:t.outputSchema.map(j=>j.property).join(", "):"None"]})})]})]}),e.jsx(D,{onClick:()=>L(t),children:mt(t.updatedDate).format("MMMM Do YYYY, hh:mm A")}),e.jsx(D,{children:e.jsx(et,{permissionId:"evaluators:delete",title:"Delete",color:"error",onClick:()=>se(t),children:e.jsx(ht,{})})})]},u)})})})})]})}),e.jsx(ut,{currentPage:p,limit:M,total:ae,onChange:oe})]})]})}),A&&e.jsx(Me,{show:A,dialogProps:V,onCancel:()=>I(!1),onConfirm:$}),e.jsx(De,{})]})};export{ha as default};
