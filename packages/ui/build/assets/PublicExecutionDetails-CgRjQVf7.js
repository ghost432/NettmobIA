import{ak as g,a as f,r as o,c as j,aq as y,j as e,B as r,b8 as E,ah as b,K as I,S,o as c}from"./index-B5bgjFPS.js";import{E as v}from"./ExecutionDetails-B4nB6XtJ.js";import{e as D}from"./NodeExecutionDetails-DG6IJuTk.js";import{I as P}from"./IconCircleXFilled-6uNExu9P.js";import"./StopCircle-Dr72dSBy.js";import"./Tooltip-CXmeiPEa.js";import"./IconCopy-bbAsun7S.js";import"./IconShare-D3uBFiqr.js";import"./IconRefresh-CtZoTUkg.js";import"./createStyled-DlEbU-rO.js";import"./MemoizedReactMarkdown-mGWPD7hJ.js";import"./unsupportedIterableToArray-Bh0GkvIo.js";import"./toPropertyKey-C9c9JG92.js";import"./index-D--Rb2MU.js";import"./SourceDocDialog-U52onwWn.js";import"./main-Dw2W3SKo.js";import"./CodeEditor-BbQJOBPh.js";import"./index-C-cusT-F.js";import"./IconClock-Be61hWTr.js";import"./ToggleButtonGroup-RXBzXyLf.js";import"./TextField-OmGdqrIf.js";import"./InputLabel-BtU13bbu.js";import"./FormControl-o0rphY-g.js";const V=()=>{const{id:s}=g(),a=f(),[l,x]=o.useState(null),[n,d]=o.useState({}),[p,u]=o.useState(!0),t=j(D.getExecutionByIdPublic);return o.useEffect(()=>{t.request(s)},[]),o.useEffect(()=>{if(t.data){const i=t.data,m=typeof i.executionData=="string"?JSON.parse(i.executionData):i.executionData;x(m);const h={...y.omit(i,["executionData"]),agentflow:{...n.agentflow}};d(h)}},[t.data]),o.useEffect(()=>{u(t.loading)},[t.loading]),e.jsx(e.Fragment,{children:p?e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:e.jsx(E,{size:60})}):e.jsx(e.Fragment,{children:t.error?e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:e.jsx(r,{sx:{maxWidth:"500px",width:"100%"},children:e.jsx(b,{variant:"outlined",sx:{border:`1px solid ${a.palette.error.main}`,borderRadius:2,padding:"20px",boxShadow:`0 4px 8px ${I(a.palette.error.main,.15)}`},children:e.jsxs(S,{spacing:2,alignItems:"center",children:[e.jsx(P,{size:50,color:a.palette.error.main}),e.jsx(c,{variant:"h3",color:"error.main",align:"center",children:"Invalid Execution"}),e.jsx(c,{variant:"body1",color:"text.secondary",align:"center",children:"The execution you're looking for doesn't exist or you don't have permission to view it."})]})})})}):e.jsx(v,{isPublic:!0,execution:l,metadata:n,onProceedSuccess:()=>{t.request(s)},onRefresh:i=>{t.request(i)}})})})};export{V as default};
