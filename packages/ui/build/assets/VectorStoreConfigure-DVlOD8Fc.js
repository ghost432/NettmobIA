import{af as Ie,f as Re,s as Me,a as ot,r as s,c as M,v as nt,H as ke,j as e,D as Ee,m as Ae,n as He,B as g,a5 as lt,i as ne,aA as dt,aB as ct,d as O,o as V,w as Pe,P as b,q as D,S as Oe,Q as pt,R as gt,U as mt,X as ht,W as ut,_ as ft,k as Ve,l as Te,u as xt,O as jt,t as bt,b as St,ak as vt,M as yt,h as _,aj as y,as as H,L as Dt,aq as te,ar as re,N as Ct}from"./index-B5bgjFPS.js";import{m as Ue}from"./moment-BDbvUjbq.js";import{C as kt}from"./ConfirmDialog-Dfe34hOz.js";import{I as we}from"./InputAdornment-v58Edx4J.js";import{b as wt}from"./IconSearch-4bUU90FL.js";import{D as ae}from"./DocStoreInputHandler-BDJBQrwa.js";import{V as It}from"./ViewHeader-t5dVj9Vk.js";import{B as Rt}from"./BackdropLoader-Ch3nVEPr.js";import{E as Mt}from"./ErrorBoundary-x4bZaoHs.js";import{U as Et}from"./UpsertResultDialog-BcbnoOte.js";import{v as At,H as Ht}from"./vectorstore-Bq4Eb9NI.js";import{S as Pt,I as Ot,T as Vt,a as Tt,b as Ut,c as _t,d as Lt,e as Nt,f as $t,t as Ft}from"./TimelineSeparator-NYqoaxDL.js";import{d as Wt}from"./ExpandMore-BZIzyY2F.js";import{T as qt}from"./Table-CZOZGZoJ.js";import{S as L}from"./StatsCard-HDup684R.js";import{A as Bt,d as Yt,e as zt}from"./MemoizedReactMarkdown-mGWPD7hJ.js";import{d as P}from"./documentstore-CRtiIDJT.js";import{n as ie}from"./nodes-Qb-8otVq.js";import{d as N}from"./DynamicFeed-CM5XErNX.js";import{I as Gt}from"./IconRefresh-CtZoTUkg.js";import{I as Qt}from"./IconDeviceFloppy-BsK1tbgI.js";import{I as Xt}from"./IconClock-Be61hWTr.js";import{v as se}from"./v4-CtRu48qb.js";import{S as Jt,a as Kt,b as Zt}from"./Stepper-BCbMjc86.js";import"./Dropdown-D8Rr64ju.js";import"./FormControl-o0rphY-g.js";import"./Autocomplete-CinIIKT5.js";import"./Close-DT9tpzn1.js";import"./TextField-OmGdqrIf.js";import"./InputLabel-BtU13bbu.js";import"./MultiDropdown-BUXEvYds.js";import"./CredentialInputHandler-C4W2GUgN.js";import"./CredentialListDialog-ZkUPpHPz.js";import"./TooltipWithParser-D26Faoyy.js";import"./index-D--Rb2MU.js";import"./Tooltip-CXmeiPEa.js";import"./Input-CajAyvOv.js";import"./ListItem-BfStHUI0.js";import"./Switch-D5M093wC.js";import"./main-Dw2W3SKo.js";import"./IconArrowsMaximize-BLCViMbK.js";import"./IconAlertTriangle-7YQ2ldQl.js";import"./Delete-4D-T7tnN.js";import"./IconPlus-j8jP5X4Z.js";import"./GridActionsCellItem-B3aQ_RGo.js";import"./Grid-DGDGmzGP.js";import"./toPropertyKey-C9c9JG92.js";import"./createStyled-DlEbU-rO.js";import"./KeyboardArrowRight-BvTOCIXU.js";import"./LastPage--XaxDP-k.js";import"./Skeleton-DJP3nnUt.js";import"./File-km8sc6Tq.js";import"./CodeEditor-BbQJOBPh.js";import"./index-C-cusT-F.js";import"./suggestionOption-DCQ-1oAJ.js";import"./TabPanel-C-h4h7GL.js";import"./ExpandTextDialog-XWdUWqGp.js";import"./LoadingButton-CJHvS9bV.js";import"./IconTrash-CekgWF9B.js";import"./ToolDialog-DZ6z_iak.js";import"./ExportAsTemplateDialog-481ESzFy.js";import"./AssistantDialog-CJzYVebb.js";import"./assistants-DZYxhrU8.js";import"./IconLanguage-BXvwKb3u.js";import"./string-BbYD24iH.js";import"./IconBulb-BQTovKvQ.js";import"./StyledFab-DFomU4Vk.js";import"./IconCopy-bbAsun7S.js";import"./unsupportedIterableToArray-Bh0GkvIo.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M12 15l8.385 -8.415a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3z",key:"svg-0"}],["path",{d:"M16 5l3 3",key:"svg-1"}],["path",{d:"M9 7.07a7 7 0 0 0 1 13.93a7 7 0 0 0 6.929 -6",key:"svg-2"}]],oe=Ie("outline","edit-circle","EditCircle",er);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"M4 18v-4a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M12 9v-4",key:"svg-1"}],["path",{d:"M10 7l4 0",key:"svg-2"}]],rr=Ie("outline","row-insert-top","RowInsertTop",tr),$=({show:m,dialogProps:p,onCancel:C,apiCall:I,onSelected:v})=>{const i=document.getElementById("portal"),u=Re(d=>d.customization),h=Me(),a=ot(),[S,f]=s.useState(""),[x,R]=s.useState([]),k=M(I),E=d=>{f(d)};function A(d){var j;return((j=d==null?void 0:d.name)==null?void 0:j.toLowerCase().indexOf(S.toLowerCase()))>-1}s.useEffect(()=>{},[p]),s.useEffect(()=>{k.request()},[]),s.useEffect(()=>{k.data&&R(k.data)},[k.data]),s.useEffect(()=>(h(m?{type:nt}:{type:ke}),()=>h({type:ke})),[m,h]);const T=m?e.jsxs(Ee,{fullWidth:!0,maxWidth:"md",open:m,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(Ae,{sx:{fontSize:"1rem",p:3,pb:0},id:"alert-dialog-title",children:p.title}),e.jsxs(He,{sx:{display:"flex",flexDirection:"column",gap:2,maxHeight:"75vh",position:"relative",px:3,pb:3},children:[e.jsx(g,{sx:{backgroundColor:u.isDarkMode?a.palette.background.darkPaper:a.palette.background.paper,pt:2,position:"sticky",top:0,zIndex:10},children:e.jsx(lt,{sx:{width:"100%",pr:2,pl:2,position:"sticky"},id:"input-search-credential",value:S,onChange:d=>E(d.target.value),placeholder:"Search",startAdornment:e.jsx(we,{position:"start",children:e.jsx(wt,{stroke:1.5,size:"1rem",color:a.palette.grey[500]})}),endAdornment:e.jsx(we,{position:"end",sx:{cursor:"pointer",color:a.palette.grey[500],"&:hover":{color:a.palette.grey[900]}},title:"Clear Search",children:e.jsx(ne,{stroke:1.5,size:"1rem",onClick:()=>E(""),style:{cursor:"pointer"}})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})}),e.jsx(dt,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,py:0,zIndex:9,borderRadius:"10px",[a.breakpoints.down("md")]:{maxWidth:370}},children:[...x].filter(A).map(d=>e.jsxs(ct,{alignItems:"center",onClick:()=>v(d),sx:{border:1,borderColor:a.palette.grey[900]+25,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"start",textAlign:"left",gap:1,p:2},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:d.name,src:`${O}/api/v1/node-icon/${d.name}`})}),e.jsx(V,{children:d.label})]},d.name))})]})]}):null;return Pe.createPortal(T,i)};$.propTypes={show:b.bool,dialogProps:b.object,onCancel:b.func,apiCall:b.func,onSelected:b.func};const _e=({show:m,dialogProps:p,onClickFunction:C,onSelectHistoryDetails:I})=>{const v=()=>{},[i,u]=s.useState([]),h=M(At.getUpsertHistory);return s.useEffect(()=>{h.request(p.id)},[p]),s.useEffect(()=>{h.data&&u(h.data)},[h.data]),e.jsx(e.Fragment,{children:e.jsxs(Pt,{anchor:"right",open:m,onClose:()=>C(),onOpen:v,children:[e.jsx(D,{startIcon:e.jsx(Ot,{}),onClick:()=>C(),children:"Close"}),e.jsx(g,{style:{width:350,margin:10},role:"presentation",onClick:C,children:e.jsxs(Vt,{sx:{[`& .${Ft.root}`]:{flex:1}},children:[i&&i.map((a,S)=>e.jsxs(Tt,{children:[e.jsx(Ut,{children:Ue(a.date).format("DD-MMM-YYYY, hh:mm:ss A")}),e.jsxs(_t,{style:{marginTop:5},children:[e.jsx(Lt,{}),S!==i.length-1&&e.jsx(Nt,{})]}),e.jsxs($t,{children:[a.result.numAdded!==void 0&&a.result.numAdded>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Added: ",a.result.numAdded]}),a.result.numUpdated!==void 0&&a.result.numUpdated>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Updated: ",a.result.numUpdated]}),a.result.numSkipped!==void 0&&a.result.numSkipped>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Skipped: ",a.result.numSkipped]}),a.result.numDeleted!==void 0&&a.result.numDeleted>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Deleted: ",a.result.numDeleted]}),e.jsx(D,{size:"small",sx:{mt:1,mb:3,borderRadius:"25px"},variant:"outlined",onClick:()=>I(a),children:"Details"})]})]},S)),i.length===0&&e.jsxs(Oe,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[e.jsx(g,{sx:{pb:2,height:"auto"},children:e.jsx("img",{style:{objectFit:"cover",height:"10vh",width:"auto"},src:Ht,alt:"HistoryEmptySVG"})}),e.jsx("div",{children:"No Upsert History Yet"})]})]})})]})})};_e.propTypes={show:b.bool,dialogProps:b.object,onClickFunction:b.func,onSelectHistoryDetails:b.func};const Le=({show:m,dialogProps:p,onCancel:C})=>{const I=document.getElementById("portal"),[v,i]=s.useState({}),u=a=>(S,f)=>{const x={...v};x[a]=f,i(x)},h=m?e.jsxs(Ee,{fullWidth:!0,maxWidth:"md",open:m,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(Ae,{sx:{fontSize:"1rem",p:3,pb:0},id:"alert-dialog-title",children:p.title}),e.jsxs(He,{sx:{display:"flex",flexDirection:"column",gap:2,maxHeight:"75vh",position:"relative",px:3,pb:3},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:5,marginTop:"10px"},children:[e.jsx(L,{title:"Added",stat:p.numAdded??0}),e.jsx(L,{title:"Updated",stat:p.numUpdated??0}),e.jsx(L,{title:"Skipped",stat:p.numSkipped??0}),e.jsx(L,{title:"Deleted",stat:p.numDeleted??0})]}),e.jsx("div",{children:e.jsx(pt,{component:gt,children:e.jsx(mt,{sx:{minWidth:650},"aria-label":"simple table",children:e.jsx(ht,{children:e.jsx(ut,{sx:{"& td":{border:0}},children:e.jsx(ft,{sx:{pb:0,pt:0},colSpan:6,children:e.jsx(g,{sx:{mt:1,mb:2},children:(p.flowData??[]).map((a,S)=>e.jsxs(Bt,{expanded:v[a.id]||!1,onChange:u(a.id),disableGutters:!0,children:[e.jsx(Yt,{expandIcon:e.jsx(Wt,{}),"aria-controls":`nodes-accordian-${a.name}`,id:`nodes-accordian-header-${a.name}`,children:e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[e.jsx("div",{style:{width:40,height:40,marginRight:10,borderRadius:"50%",backgroundColor:"white"},children:e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:a.name,src:`${O}/api/v1/node-icon/${a.name}`})}),e.jsx(V,{variant:"h5",children:a.label}),e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"max-content",borderRadius:15,background:"rgb(254,252,191)",padding:5,paddingLeft:10,paddingRight:10,marginLeft:10},children:e.jsx("span",{style:{color:"rgb(116,66,16)",fontSize:"0.825rem"},children:a.id})})]})}),e.jsx(zt,{children:a.paramValues[0]&&e.jsx(qt,{sx:{minWidth:150},rows:a.paramValues,columns:Object.keys(a.paramValues[0])})})]},S))})})})})})})})]})]}):null;return Pe.createPortal(h,I)};Le.propTypes={show:b.bool,dialogProps:b.object,onCancel:b.func};var le={},ar=Ve;Object.defineProperty(le,"__esModule",{value:!0});var Ne=le.default=void 0,ir=ar(Te()),sr=e,or=(0,ir.default)((0,sr.jsx)("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"Storage");Ne=le.default=or;var de={},nr=Ve;Object.defineProperty(de,"__esModule",{value:!0});var $e=de.default=void 0,lr=nr(Te()),dr=e,cr=(0,lr.default)((0,dr.jsx)("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"Filter1");$e=de.default=cr;const pr=["Embeddings","Vector Store","Record Manager"],Ia=()=>{var Ce;const m=xt(),p=Me(),{hasAssignedWorkspace:C}=jt();bt();const{error:I,setError:v}=St(),i=Re(t=>t.customization),{storeId:u,docId:h}=vt(),a=(...t)=>p(Dt(...t)),S=(...t)=>p(Ct(...t)),f=M(P.getSpecificDocumentStore),x=M(P.insertIntoVectorStore),R=M(P.saveVectorStoreConfig),k=M(ie.getSpecificNode),E=M(ie.getSpecificNode),A=M(ie.getSpecificNode),[T,d]=s.useState(!0),[j,Fe]=s.useState({}),[F,W]=s.useState({}),[q,B]=s.useState(!1),[n,Y]=s.useState({}),[z,G]=s.useState(!1),[l,Q]=s.useState({}),[X,J]=s.useState(!1),[c,U]=s.useState({}),[K,ce]=s.useState(!1),[pe,ge]=s.useState(!1),[We,qe]=s.useState({}),[me,he]=s.useState(!1),[Be,Ye]=s.useState({}),[ue,fe]=s.useState(!1),[ze,Ge]=s.useState({}),Qe=({inputParam:t,newValue:r})=>{Y(w=>{const o={...w};return o.inputs[t.name]=r,o.inputParams=H(o),o})},Xe=({inputParam:t,newValue:r})=>{Q(w=>{const o={...w};return o.inputs[t.name]=r,o.inputParams=H(o),o})},Je=({inputParam:t,newValue:r})=>{U(w=>{const o={...w};return o.inputs[t.name]=r,o.inputParams=H(o),o})},xe=t=>{const r=te.cloneDeep(re(t,se()));!q&&j.embeddingConfig&&(r.inputs=j.embeddingConfig.config,r.credential=j.embeddingConfig.config.credential),Y(r),B(!1)},je=()=>{W({title:"Select Embeddings Provider"}),B(!0)},be=t=>{const r=te.cloneDeep(re(t,se()));r.inputAnchors.find(w=>w.name==="recordManager")?ce(!1):(ce(!0),U({})),!z&&j.vectorStoreConfig&&(r.inputs=j.vectorStoreConfig.config,r.credential=j.vectorStoreConfig.config.credential),Q(r),G(!1)},Se=()=>{W({title:"Select a Vector Store Provider"}),G(!0)},ve=t=>{const r=te.cloneDeep(re(t,se()));!X&&j.recordManagerConfig&&(r.inputs=j.recordManagerConfig.config,r.credential=j.recordManagerConfig.config.credential),U(r),J(!1)},ye=()=>{W({title:"Select a Record Manager"}),J(!0)},Ke=()=>{Ye({id:u}),he(!0)},Ze=t=>{const r={title:Ue(t.date).format("DD-MMM-YYYY, hh:mm:ss A"),numAdded:t.result.numAdded,numUpdated:t.result.numUpdated,numSkipped:t.result.numSkipped,numDeleted:t.result.numDeleted,flowData:t.flowData};Ge(r),fe(!0)},et=()=>{let t=!0;const r=((l==null?void 0:l.inputParams)??[]).filter(o=>!o.hidden);for(const o of r)if(!o.optional&&(!l.inputs[o.name]||!l.credential)){if(o.type==="credential"&&!l.credential){t=!1;break}else if(o.type!=="credential"&&!l.inputs[o.name]){t=!1;break}}const w=((n==null?void 0:n.inputParams)??[]).filter(o=>!o.hidden);for(const o of w)if(!o.optional&&(!n.inputs[o.name]||!n.credential)){if(o.type==="credential"&&!n.credential){t=!1;break}else if(o.type!=="credential"&&!n.inputs[o.name]){t=!1;break}}return t||a({message:"Please fill in all mandatory fields.",options:{key:new Date().getTime()+Math.random(),variant:"warning",action:o=>e.jsx(D,{style:{color:"white"},onClick:()=>S(o),children:e.jsx(ne,{})})}}),t},De=()=>{const t={storeId:u,docId:h};return n.inputs?(t.embeddingConfig={},t.embeddingName=n.name,Object.keys(n.inputs).map(r=>{r==="FLOWISE_CREDENTIAL_ID"?t.embeddingConfig.credential=n.inputs[r]:t.embeddingConfig[r]=n.inputs[r]})):(t.embeddingConfig=null,t.embeddingName=""),l.inputs?(t.vectorStoreConfig={},t.vectorStoreName=l.name,Object.keys(l.inputs).map(r=>{r==="FLOWISE_CREDENTIAL_ID"?t.vectorStoreConfig.credential=l.inputs[r]:t.vectorStoreConfig[r]=l.inputs[r]})):(t.vectorStoreConfig=null,t.vectorStoreName=""),c.inputs?(t.recordManagerConfig={},t.recordManagerName=c.name,Object.keys(c.inputs).map(r=>{r==="FLOWISE_CREDENTIAL_ID"?t.recordManagerConfig.credential=c.inputs[r]:t.recordManagerConfig[r]=c.inputs[r]})):(t.recordManagerConfig=null,t.recordManagerName=""),t},tt=()=>{if(et()){d(!0);const t=De();x.request(t)}},rt=()=>{d(!0);const t=De();R.request(t)},at=()=>{Y({}),Q({}),U({})},it=()=>c&&Object.keys(c).length>0?3:l&&Object.keys(l).length>0?2:n&&Object.keys(n).length>0?1:0,st=()=>e.jsx(g,{sx:{width:"100%"},children:e.jsx(Jt,{activeStep:it(),alternativeLabel:!0,children:pr.map(t=>e.jsx(Kt,{children:e.jsx(Zt,{children:t})},t))})}),Z=()=>Object.keys(l).length===0||K,ee=()=>Object.keys(n).length===0;return s.useEffect(()=>{R.data&&(d(!1),a({message:"Configuration saved successfully",options:{key:new Date().getTime()+Math.random(),variant:"success",action:t=>e.jsx(D,{style:{color:"white"},onClick:()=>S(t),children:e.jsx(ne,{})})}}))},[R.data]),s.useEffect(()=>{x.data&&(d(!1),ge(!0),qe({...x.data,goToRetrievalQuery:!0}))},[x.data]),s.useEffect(()=>{x.error&&(d(!1),v(x.error))},[x.error]),s.useEffect(()=>{R.error&&(d(!1),v(R.error))},[R.error]),s.useEffect(()=>{f.request(u)},[]),s.useEffect(()=>{if(f.data){const t=f.data;if(!C(t.workspaceId)){m("/unauthorized");return}Fe(t),t.embeddingConfig&&k.request(t.embeddingConfig.name),t.vectorStoreConfig&&E.request(t.vectorStoreConfig.name),t.recordManagerConfig&&A.request(t.recordManagerConfig.name),d(!1)}},[f.data]),s.useEffect(()=>{if(k.data){const t=k.data;xe(t)}},[k.data]),s.useEffect(()=>{if(E.data){const t=E.data;be(t)}},[E.data]),s.useEffect(()=>{if(A.data){const t=A.data;ve(t)}},[A.data]),s.useEffect(()=>{f.error&&v(f.error)},[f.error]),e.jsxs(e.Fragment,{children:[e.jsx(yt,{children:I?e.jsx(Mt,{error:I}):e.jsxs(e.Fragment,{children:[!u&&e.jsx("div",{}),u&&e.jsxs(Oe,{flexDirection:"column",sx:{gap:3},children:[e.jsxs(It,{isBackButton:!0,search:!1,title:(Ce=f.data)==null?void 0:Ce.name,description:"Configure Embeddings, Vector Store and Record Manager",onBack:()=>m(-1),children:[(Object.keys(n).length>0||Object.keys(l).length>0)&&e.jsx(D,{variant:"outlined",color:"error",sx:{borderRadius:2,height:"100%"},startIcon:e.jsx(Gt,{}),onClick:()=>at(),children:"Reset"}),(Object.keys(n).length>0||Object.keys(l).length>0)&&e.jsx(D,{variant:"outlined",color:"secondary",sx:{borderRadius:2,height:"100%"},startIcon:e.jsx(Qt,{}),onClick:()=>rt(),children:"Save Config"}),Object.keys(n).length>0&&Object.keys(l).length>0&&e.jsx(D,{variant:"contained",sx:{borderRadius:2,height:"100%",backgroundImage:"linear-gradient(to right, #13547a, #2f9e91)","&:hover":{backgroundImage:"linear-gradient(to right, #0b3d5b, #1a8377)"}},startIcon:e.jsx(rr,{}),onClick:()=>tt(),children:"Upsert"}),e.jsx(_,{onClick:Ke,size:"small",color:"inherit",title:"Upsert History",children:e.jsx(Xt,{})})]}),e.jsx(st,{}),e.jsxs(y,{container:!0,spacing:1,children:[e.jsx(y,{item:!0,xs:12,sm:4,md:4,children:Object.keys(n).length===0?e.jsx(D,{onClick:je,fullWidth:!0,startIcon:e.jsx(N,{style:{background:"transparent",height:32,width:32}}),sx:{color:i!=null&&i.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #e654bc, #4b86e7)":"linear-gradient(to right, #fadef2, #cfdcf1)","&:hover":{backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #de32ac, #2d73e7)":"linear-gradient(to right, #f6c2e7, #b4cbf1)"}},children:"Select Embeddings"}):e.jsx(g,{children:e.jsx(y,{container:!0,spacing:"2",children:e.jsx(y,{item:!0,xs:12,md:12,lg:12,sm:12,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:n.label?e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:n.label??"embeddings",src:`${O}/api/v1/node-icon/${n==null?void 0:n.name}`}):e.jsx(N,{color:"black"})}),e.jsx(V,{sx:{ml:2},variant:"h3",children:n.label}),e.jsx("div",{style:{flex:1}}),e.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(n).length>0&&e.jsx(e.Fragment,{children:e.jsx(_,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:je,children:e.jsx(oe,{})})})})]}),n&&Object.keys(n).length>0&&H(n).filter(t=>!t.hidden&&t.display!==!1).map((t,r)=>e.jsx(ae,{data:n,inputParam:t,isAdditionalParams:t.additionalParams,onNodeDataChange:Qe},r))]})})})})}),e.jsx(y,{item:!0,xs:12,sm:4,md:4,children:Object.keys(l).length===0?e.jsx(D,{onClick:Se,fullWidth:!0,startIcon:e.jsx(Ne,{style:{background:"transparent",height:32,width:32}}),sx:{color:i!=null&&i.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",opacity:ee()?.7:1,boxShadow:ee()?"none":"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #4d8ef1, #f1de5c)":"linear-gradient(to right, #b9d0f4, #fef9d7)","&:hover":{backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #2576f2, #f0d72e)":"linear-gradient(to right, #9cbdf2, #fcf3b6)"}},disabled:ee(),children:"Select Vector Store"}):e.jsx(g,{children:e.jsx(y,{container:!0,spacing:"2",children:e.jsx(y,{item:!0,xs:12,md:12,lg:12,sm:12,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:l.label?e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:l.label??"embeddings",src:`${O}/api/v1/node-icon/${l==null?void 0:l.name}`}):e.jsx(N,{color:"black"})}),e.jsx(V,{sx:{ml:2},variant:"h3",children:l.label}),e.jsx("div",{style:{flex:1}}),e.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(l).length>0&&e.jsx(e.Fragment,{children:e.jsx(_,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:Se,children:e.jsx(oe,{})})})})]}),l&&Object.keys(l).length>0&&H(l).filter(t=>!t.hidden&&t.display!==!1).map((t,r)=>e.jsx(ae,{data:l,inputParam:t,isAdditionalParams:t.additionalParams,onNodeDataChange:Xe},r))]})})})})}),e.jsx(y,{item:!0,xs:12,sm:4,md:4,children:Object.keys(c).length===0?e.jsx(D,{onClick:ye,fullWidth:!0,startIcon:K?e.jsx(e.Fragment,{}):e.jsx($e,{style:{background:"transparent",height:32,width:32}}),sx:{color:i!=null&&i.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",opacity:Z()?.7:1,boxShadow:Z()?"none":"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #f5db3f, #42daa7)":"linear-gradient(to right, #f9f1c0, #c7f1e3)","&:hover":{backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #d9c238, #3dc295)":"linear-gradient(to right, #f6e99b, #a0f2d7)"}},disabled:Z(),children:K?"Record Manager is not applicable for selected Vector Store":"Select Record Manager"}):e.jsx(g,{children:e.jsx(y,{container:!0,spacing:"2",children:e.jsx(y,{item:!0,xs:12,md:12,lg:12,sm:12,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:c.label?e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:c.label??"embeddings",src:`${O}/api/v1/node-icon/${c==null?void 0:c.name}`}):e.jsx(N,{color:"black"})}),e.jsx(V,{sx:{ml:2},variant:"h3",children:c.label}),e.jsx("div",{style:{flex:1}}),e.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(c).length>0&&e.jsx(e.Fragment,{children:e.jsx(_,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:ye,children:e.jsx(oe,{})})})})]}),c&&Object.keys(c).length>0&&H(c).filter(t=>!t.hidden&&t.display!==!1).map((t,r)=>e.jsx(ae,{data:c,inputParam:t,isAdditionalParams:t.additionalParams,onNodeDataChange:Je},r))]})})})})})]})]})]})}),q&&e.jsx($,{show:q,dialogProps:F,onCancel:()=>B(!1),apiCall:P.getEmbeddingProviders,onSelected:xe}),z&&e.jsx($,{show:z,dialogProps:F,onCancel:()=>G(!1),apiCall:P.getVectorStoreProviders,onSelected:be}),X&&e.jsx($,{show:X,dialogProps:F,onCancel:()=>J(!1),apiCall:P.getRecordManagerProviders,onSelected:ve}),pe&&e.jsx(Et,{show:pe,dialogProps:We,onCancel:()=>{ge(!1)},onGoToRetrievalQuery:()=>m("/document-stores/query/"+u)}),me&&e.jsx(_e,{show:me,dialogProps:Be,onClickFunction:()=>he(!1),onSelectHistoryDetails:Ze}),ue&&e.jsx(Le,{show:ue,dialogProps:ze,onCancel:()=>fe(!1)}),e.jsx(kt,{}),T&&e.jsx(Rt,{open:T})]})};export{Ia as default};
