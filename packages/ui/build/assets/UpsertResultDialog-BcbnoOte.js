import{af as g,s as f,f as y,r as j,v as b,H as c,j as e,D,m as v,n as C,o as u,ah as R,ag as k,p as S,q as i,w as A,P as d}from"./index-B5bgjFPS.js";import{R as T}from"./main-Dw2W3SKo.js";import{S as n}from"./StatsCard-HDup684R.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}],["path",{d:"M8 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-4"}],["path",{d:"M16 16l-2.5 -2.5",key:"svg-5"}]],E=g("outline","zoom-scan","ZoomScan",I),M=({show:a,dialogProps:t,onCancel:o,onGoToRetrievalQuery:p})=>{const m=document.getElementById("portal"),s=f(),l=y(r=>r.customization);j.useEffect(()=>(s(a?{type:b}:{type:c}),()=>s({type:c})),[a,s]);const h=a?e.jsxs(D,{onClose:o,open:a,fullWidth:!0,maxWidth:"sm","aria-labelledby":"upsert-result-dialog-title","aria-describedby":"upsert-result-dialog-description",children:[e.jsx(v,{sx:{fontSize:"1rem"},id:"upsert-result-dialog-title",children:"Upsert Record"}),e.jsx(C,{children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:5},children:[e.jsx(n,{title:"Added",stat:t.numAdded??0}),e.jsx(n,{title:"Updated",stat:t.numUpdated??0}),e.jsx(n,{title:"Skipped",stat:t.numSkipped??0}),e.jsx(n,{title:"Deleted",stat:t.numDeleted??0})]}),t.addedDocs&&t.addedDocs.length>0&&e.jsxs(u,{sx:{mt:2,mb:2,fontWeight:500},children:[t.numAdded," Added Documents"]}),t.addedDocs&&t.addedDocs.length>0&&t.addedDocs.map((r,x)=>e.jsx(R,{sx:{border:"1px solid #e0e0e0",borderRadius:`${l.borderRadius}px`,mb:1},children:e.jsxs(k,{children:[e.jsx(u,{sx:{fontSize:14},color:"text.primary",gutterBottom:!0,children:r.pageContent}),e.jsx(T,{theme:l.isDarkMode?"ocean":"rjv-default",style:{padding:10,borderRadius:10},src:r.metadata,name:null,quotesOnKeys:!1,enableClipboard:!1,displayDataTypes:!1,collapsed:!0})]})},x))]})}),e.jsxs(S,{children:[t.goToRetrievalQuery&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",marginLeft:"15px",marginRight:"15px"},children:[e.jsx(i,{variant:"contained",fullWidth:!0,sx:{borderRadius:2,height:"100%",backgroundImage:"linear-gradient(to right, #3f5efb, #fc466b)","&:hover":{backgroundImage:"linear-gradient(to right, #2b4efb, #fe2752)"},mb:2},startIcon:e.jsx(E,{}),onClick:p,children:"Test Retrieval"}),e.jsx(i,{fullWidth:!0,onClick:o,children:"Close"})]}),!t.goToRetrievalQuery&&e.jsx(i,{onClick:o,children:"Close"})]})]}):null;return A.createPortal(h,m)};M.propTypes={show:d.bool,dialogProps:d.object,onCancel:d.func,onGoToRetrievalQuery:d.func};export{M as U};
